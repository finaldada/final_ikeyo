<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  

<mapper namespace="Product">
	<!-- Product List -->
	<select id="getProductList" resultType="kh.com.a.model.ProductDto">
		SELECT PROD_SEQ, MODEL_ID, P_NAME, CONTENT, PHOTO_BF1, PHOTO_BF2, PHOTO_BF3, 
			PHOTO_AF1, PHOTO_AF2,PHOTO_AF3, PDF_BF, PDF_AF, READCOUNT, PRICE, RDATE, LIKECOUNT
		FROM PRODUCT
		ORDER BY PROD_SEQ DESC;
	</select>
	
	<!-- insert -->
	<insert id="productAdd" parameterType="kh.com.a.model.ProductDto">
		INSERT INTO PRODUCT(PROD_SEQ, MODEL_ID, P_NAME, CONTENT, PHOTO_BF1, PHOTO_BF2, PHOTO_BF3, 
			PHOTO_AF1, PHOTO_AF2, PHOTO_AF3, PDF_BF, PDF_AF, READCOUNT, PRICE, RDATE, LIKECOUNT)
		VALUES(SEQ_PROD.NEXTVAL, #{model_id}, #{p_name}, #{content}, #{photo_bf1}, #{photo_bf2}, #{photo_bf3},
			#{photo_af1}, #{photo_af2}, #{photo_af3}, #{pdf_bf}, #{pdf_af}, 0, #{price}, SYSDATE, 0)	
	</insert>
	
	<!-- getproduct -->
	<select id="getproduct" parameterType="java.lang.String" resultType="kh.com.a.model.ProductDto">
		SELECT COUNT(*)
		FORM PRODUCT
		WHERE MODEL_ID=#{model_id}		
	</select>
	
	

</mapper>
