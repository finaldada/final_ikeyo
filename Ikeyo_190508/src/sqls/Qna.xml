<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="QnA">

	<!-- QnA 리스트 -->
	<select id="qnaList" parameterType="java.lang.Integer" resultType="kh.com.a.model.QnADto">
		SELECT *
		FROM QNA
		WHERE PARENT=#{parent}
	</select>
	
	<!-- QnA 전체리스트 -->
	<select id="qnaListAll" resultType="kh.com.a.model.QnADto">
		SELECT * 
		FROM QNA	
	</select>
	
	<!-- QnA 등록 -->
	<insert id="qnaWrite" parameterType="kh.com.a.model.QnADto">
		INSERT INTO QNA(QNA_SEQ, ID, TITLE, CONTENT, WDATE, ANSWER, ADATE, READCOUNT, PARENT, DEL)
		VALUES(SEQ_QNA.NEXTVAL, #{id}, #{title}, #{content}, SYSDATE, NULL, SYSDATE, 0, #{parent}, 0)
	</insert>

	<!-- QnA 답글달기 -->
	<update id="qnaAnswer" parameterType="kh.com.a.model.QnADto">
		UPDATE QNA SET ANSWER=#{answer}, ADATE=SYSDATE
		WHERE QNA_SEQ=#{qna_seq}
	</update>

</mapper>


